#pragma once

#include <memory>
#include <vector>
#include "lex/token.h"

namespace ASTNS
{
// ASTHEADER START
// The following code was autogenerated - see the utils/ directory
    class AST;
    class CUB;
    class Decl;
    class Stmt;
    class Expr;
    class Type;
    class ArgB;
    class ParamB;
    class VStmtIB;
    class ImplRetB;
    class CU;
    class DeclList;
    class FunctionDecl;
    class VarStmt;
    class VarStmtItem;
    class VarStmtItemList;
    class ExprStmt;
    class RetStmt;
    class StmtList;
    class ImplRet;
    class PrimitiveType;
    class Arg;
    class ArgList;
    class Param;
    class ParamList;
    class Block;
    class IfExpr;
    class ForExpr;
    class AssignmentExpr;
    class ShortCircuitExpr;
    class BinaryExpr;
    class CastExpr;
    class UnaryExpr;
    class CallExpr;
    class PrimaryExpr;
    class AST
    {
    public:
        virtual ~AST() {}
    };
    class CUB : public AST
    {
    public:
        class Visitor
        {
        public:
            virtual ~Visitor() {}
            virtual void visitCU(ASTNS::CU *ast) = 0;
        };
        virtual ~CUB() {}
        virtual void accept(Visitor *v) = 0;
    };
    class Decl : public AST
    {
    public:
        class Visitor
        {
        public:
            virtual ~Visitor() {}
            virtual void visitDeclList(ASTNS::DeclList *ast) = 0;
            virtual void visitFunctionDecl(ASTNS::FunctionDecl *ast) = 0;
        };
        virtual ~Decl() {}
        virtual void accept(Visitor *v) = 0;
    };
    class Stmt : public AST
    {
    public:
        class Visitor
        {
        public:
            virtual ~Visitor() {}
            virtual void visitVarStmt(ASTNS::VarStmt *ast) = 0;
            virtual void visitExprStmt(ASTNS::ExprStmt *ast) = 0;
            virtual void visitRetStmt(ASTNS::RetStmt *ast) = 0;
            virtual void visitStmtList(ASTNS::StmtList *ast) = 0;
        };
        virtual ~Stmt() {}
        virtual void accept(Visitor *v) = 0;
    };
    class Expr : public AST
    {
    public:
        class Visitor
        {
        public:
            virtual ~Visitor() {}
            virtual void visitBlock(ASTNS::Block *ast) = 0;
            virtual void visitIfExpr(ASTNS::IfExpr *ast) = 0;
            virtual void visitForExpr(ASTNS::ForExpr *ast) = 0;
            virtual void visitAssignmentExpr(ASTNS::AssignmentExpr *ast) = 0;
            virtual void visitShortCircuitExpr(ASTNS::ShortCircuitExpr *ast) = 0;
            virtual void visitBinaryExpr(ASTNS::BinaryExpr *ast) = 0;
            virtual void visitCastExpr(ASTNS::CastExpr *ast) = 0;
            virtual void visitUnaryExpr(ASTNS::UnaryExpr *ast) = 0;
            virtual void visitCallExpr(ASTNS::CallExpr *ast) = 0;
            virtual void visitPrimaryExpr(ASTNS::PrimaryExpr *ast) = 0;
        };
        virtual ~Expr() {}
        virtual void accept(Visitor *v) = 0;
    };
    class Type : public AST
    {
    public:
        class Visitor
        {
        public:
            virtual ~Visitor() {}
            virtual void visitPrimitiveType(ASTNS::PrimitiveType *ast) = 0;
        };
        virtual ~Type() {}
        virtual void accept(Visitor *v) = 0;
    };
    class ArgB : public AST
    {
    public:
        class Visitor
        {
        public:
            virtual ~Visitor() {}
            virtual void visitArg(ASTNS::Arg *ast) = 0;
            virtual void visitArgList(ASTNS::ArgList *ast) = 0;
        };
        virtual ~ArgB() {}
        virtual void accept(Visitor *v) = 0;
    };
    class ParamB : public AST
    {
    public:
        class Visitor
        {
        public:
            virtual ~Visitor() {}
            virtual void visitParam(ASTNS::Param *ast) = 0;
            virtual void visitParamList(ASTNS::ParamList *ast) = 0;
        };
        virtual ~ParamB() {}
        virtual void accept(Visitor *v) = 0;
    };
    class VStmtIB : public AST
    {
    public:
        class Visitor
        {
        public:
            virtual ~Visitor() {}
            virtual void visitVarStmtItem(ASTNS::VarStmtItem *ast) = 0;
            virtual void visitVarStmtItemList(ASTNS::VarStmtItemList *ast) = 0;
        };
        virtual ~VStmtIB() {}
        virtual void accept(Visitor *v) = 0;
    };
    class ImplRetB : public AST
    {
    public:
        class Visitor
        {
        public:
            virtual ~Visitor() {}
            virtual void visitImplRet(ASTNS::ImplRet *ast) = 0;
        };
        virtual ~ImplRetB() {}
        virtual void accept(Visitor *v) = 0;
    };
    class CU : public CUB
    {
    public:
        std::unique_ptr<DeclList> decls;
        virtual void accept(ASTNS::CUB::Visitor *v) override;
        CU(std::unique_ptr<DeclList> decls);
    };
    class DeclList : public Decl
    {
    public:
        std::vector<std::unique_ptr<Decl>> decls;
        virtual void accept(ASTNS::Decl::Visitor *v) override;
        DeclList(std::vector<std::unique_ptr<Decl>> decls);
    };
    class FunctionDecl : public Decl
    {
    public:
        std::unique_ptr<Type> retty;
        Token name;
        std::unique_ptr<ParamList> params;
        std::unique_ptr<Block> body;
        virtual void accept(ASTNS::Decl::Visitor *v) override;
        FunctionDecl(std::unique_ptr<Type> retty, Token name, std::unique_ptr<ParamList> params, std::unique_ptr<Block> body);
    };
    class VarStmt : public Stmt
    {
    public:
        std::unique_ptr<Type> type;
        std::unique_ptr<VarStmtItemList> assignments;
        virtual void accept(ASTNS::Stmt::Visitor *v) override;
        VarStmt(std::unique_ptr<Type> type, std::unique_ptr<VarStmtItemList> assignments);
    };
    class VarStmtItem : public VStmtIB
    {
    public:
        Token name;
        std::unique_ptr<Expr> expr;
        virtual void accept(ASTNS::VStmtIB::Visitor *v) override;
        VarStmtItem(Token name, std::unique_ptr<Expr> expr);
    };
    class VarStmtItemList : public VStmtIB
    {
    public:
        std::vector<std::unique_ptr<VarStmtItem>> items;
        virtual void accept(ASTNS::VStmtIB::Visitor *v) override;
        VarStmtItemList(std::vector<std::unique_ptr<VarStmtItem>> items);
    };
    class ExprStmt : public Stmt
    {
    public:
        std::unique_ptr<Expr> expr;
        virtual void accept(ASTNS::Stmt::Visitor *v) override;
        ExprStmt(std::unique_ptr<Expr> expr);
    };
    class RetStmt : public Stmt
    {
    public:
        std::unique_ptr<Expr> expr;
        virtual void accept(ASTNS::Stmt::Visitor *v) override;
        RetStmt(std::unique_ptr<Expr> expr);
    };
    class StmtList : public Stmt
    {
    public:
        std::vector<std::unique_ptr<Stmt>> stmts;
        virtual void accept(ASTNS::Stmt::Visitor *v) override;
        StmtList(std::vector<std::unique_ptr<Stmt>> stmts);
    };
    class ImplRet : public ImplRetB
    {
    public:
        std::unique_ptr<Expr> expr;
        virtual void accept(ASTNS::ImplRetB::Visitor *v) override;
        ImplRet(std::unique_ptr<Expr> expr);
    };
    class PrimitiveType : public Type
    {
    public:
        Token ty;
        virtual void accept(ASTNS::Type::Visitor *v) override;
        PrimitiveType(Token ty);
    };
    class Arg : public ArgB
    {
    public:
        std::unique_ptr<Expr> expr;
        virtual void accept(ASTNS::ArgB::Visitor *v) override;
        Arg(std::unique_ptr<Expr> expr);
    };
    class ArgList : public ArgB
    {
    public:
        std::vector<std::unique_ptr<Arg>> args;
        virtual void accept(ASTNS::ArgB::Visitor *v) override;
        ArgList(std::vector<std::unique_ptr<Arg>> args);
    };
    class Param : public ParamB
    {
    public:
        std::unique_ptr<Type> ty;
        Token name;
        virtual void accept(ASTNS::ParamB::Visitor *v) override;
        Param(std::unique_ptr<Type> ty, Token name);
    };
    class ParamList : public ParamB
    {
    public:
        std::vector<std::unique_ptr<Param>> params;
        virtual void accept(ASTNS::ParamB::Visitor *v) override;
        ParamList(std::vector<std::unique_ptr<Param>> params);
    };
    class Block : public Expr
    {
    public:
        std::unique_ptr<StmtList> stmts;
        std::unique_ptr<ImplRet> implRet;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        Block(std::unique_ptr<StmtList> stmts, std::unique_ptr<ImplRet> implRet);
    };
    class IfExpr : public Expr
    {
    public:
        std::unique_ptr<Expr> cond;
        std::unique_ptr<Expr> trues;
        std::unique_ptr<Expr> falses;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        IfExpr(std::unique_ptr<Expr> cond, std::unique_ptr<Expr> trues, std::unique_ptr<Expr> falses);
    };
    class ForExpr : public Expr
    {
    public:
        std::unique_ptr<VarStmt> start;
        std::unique_ptr<Expr> cond;
        std::unique_ptr<Expr> increment;
        std::unique_ptr<Expr> body;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        ForExpr(std::unique_ptr<VarStmt> start, std::unique_ptr<Expr> cond, std::unique_ptr<Expr> increment, std::unique_ptr<Expr> body);
    };
    class AssignmentExpr : public Expr
    {
    public:
        std::unique_ptr<Expr> target;
        std::unique_ptr<Expr> expr;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        AssignmentExpr(std::unique_ptr<Expr> target, std::unique_ptr<Expr> expr);
    };
    class ShortCircuitExpr : public Expr
    {
    public:
        std::unique_ptr<Expr> lhs;
        Token op;
        std::unique_ptr<Expr> rhs;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        ShortCircuitExpr(std::unique_ptr<Expr> lhs, Token op, std::unique_ptr<Expr> rhs);
    };
    class BinaryExpr : public Expr
    {
    public:
        std::unique_ptr<Expr> lhs;
        Token op;
        std::unique_ptr<Expr> rhs;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        BinaryExpr(std::unique_ptr<Expr> lhs, Token op, std::unique_ptr<Expr> rhs);
    };
    class CastExpr : public Expr
    {
    public:
        std::unique_ptr<Type> castto;
        std::unique_ptr<Expr> expr;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        CastExpr(std::unique_ptr<Type> castto, std::unique_ptr<Expr> expr);
    };
    class UnaryExpr : public Expr
    {
    public:
        Token op;
        std::unique_ptr<Expr> expr;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        UnaryExpr(Token op, std::unique_ptr<Expr> expr);
    };
    class CallExpr : public Expr
    {
    public:
        std::unique_ptr<Expr> callee;
        Token oparn;
        std::unique_ptr<ArgList> args;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        CallExpr(std::unique_ptr<Expr> callee, Token oparn, std::unique_ptr<ArgList> args);
    };
    class PrimaryExpr : public Expr
    {
    public:
        Token value;
        virtual void accept(ASTNS::Expr::Visitor *v) override;
        PrimaryExpr(Token value);
    };
// This code was autogenerated - see the utils/ directory
// ASTHEADER END
}
