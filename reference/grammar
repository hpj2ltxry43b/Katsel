// grammar will expand as more features are implemented
program -> statement* EOF

// statements
statement -> varstmt |
            exprstmt;

varstmt -> VAR type IDENTIFIER (EQUALS expression) SEMICOLON;
exprstmt -> expression SEMICOLON;

// helper things like blocks and stuff
type -> INT | FLOAT | BOOL | DOUBLE | VOID | CHAR;

// expresion
// this grammar is heavily based off of the grammar for the Lox Language in the book "Crafting Interpreters" by Bob Nystrom
// this grammar also closely follows the precedences of the operators in Python
expression -> ternaryexpr;
ternaryexpr -> binorexpr (QUESTION binorexpr COLON ternaryexpr)?;
binorexpr -> binandexpr (DOUBLEPIPE binandexpr)*;
binandexpr -> binnotexpr (DOUBLEAMPER binnotexpr)*;
binnotexpr -> BANG binnotexpr | compeqexpr;
compeqexpr -> complgtexpr ((DOUBLEEQUAL | BANGEQUAL) complgtexpr)*;
complgtexpr -> bitxorexpr ((LESS | GREATER | LESSEQUAL | GREATEREQUAL) bitxorexpr)*;
bitxorexpr -> bitorexpr (CARET bitorexpr)*;
bitorexpr -> bitandexpr (PIPE bitandexpr)*;
bitandexpr -> bitshiftexpr (AMPER bitshiftexpr)*;
bitshiftexpr -> additionexpr ((DOUBLEGREATER | DOUBLELESS) additionexpr)*;
additionexpr -> multexpr ((PLUS | MINUS) multexpr)*;
multexpr -> unary ((STAR | SLASH | PERCENT) unary)*;
unary -> (TILDE | MINUS) unary | primary;
primary -> TRUELIT | FALSELIT |
        FLOATLIT |
        NULLLIT |
        DECINTLIT | OCTINTLIT | BININTLIT | HEXINTLIT |
        CHARLIT | STRINGLIT |
        IDENTIFIER |
        OPARN expression CPARN;
